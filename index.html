<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ö–æ–ª–æ–±–æ–∫: –ü—Ä—è—Ç–∫–∏</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #000;
            touch-action: none;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        /* –û–°–ù–û–í–ù–û–ô –§–û–ù */
        #game-container {
            position: relative;
            width: 100vw;
            height: 100vh;
            background-image: url('fon.png'); 
            background-size: cover;
            background-position: center;
        }

        /* –ö–ê–†–¢–ê –ü–û–î–°–ö–ê–ó–ö–ê (–°–í–ï–†–•–£) */
        #game-map {
 <img src="map.png" 
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 180px;
            height: auto;
            border: 4px solid white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.4);
            z-index: 10;
        }

        /* –ö–û–õ–û–ë–û–ö (–°–ü–†–ê–í–ê –ü–û–°–ï–†–ï–î–ò–ù–ï) */
        #kolobok {
 <img src="kolobok.png" 
            position: absolute;
            top: 50%;
            right: 10%; /* –°–ø—Ä–∞–≤–∞ */
            transform: translateY(-50%);
            width: 120px; /* –ú–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å —Ä–∞–∑–º–µ—Ä –ø–æ–¥ –≤–∞—à—É –∫–∞—Ä—Ç–∏–Ω–∫—É */
            height: auto;
            cursor: grab;
            z-index: 100;
            user-select: none;
            filter: drop-shadow(0 5px 10px rgba(0,0,0,0.3));
        }

        /* –ó–û–ù–ê –ö–£–î–ê –ü–†–Ø–¢–ê–¢–¨ (–°–õ–ï–í–ê –í–ù–ò–ó–£) */
        #target-zone {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 250px; /* –û–±–ª–∞—Å—Ç—å –∑–∞—Ö–≤–∞—Ç–∞ */
            height: 250px;
            /* background: rgba(0, 255, 0, 0.2); /* –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –¥–ª—è —Ç–µ—Å—Ç–∞ –∑–æ–Ω—ã */
        }

        /* –ü–ê–ù–ï–õ–¨ –ü–û–ë–ï–î–´ */
        #win-screen {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            color: white;
            text-align: center;
        }

        button {
            padding: 20px 50px;
            font-size: 28px;
            background: #ff9800;
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 5px #e65100;
        }

        button:active {
            transform: translateY(3px);
            box-shadow: 0 2px #e65100;
        }
    </style>
</head>
<body>

    <div id="game-container">
        <img src="map.png" id="game-map" alt="–ö–∞—Ä—Ç–∞">
        <div id="target-zone"></div>
        <img src="kolobok.png" id="kolobok" alt="–ö–æ–ª–æ–±–æ–∫">
    </div>

    <div id="win-screen">
        <h1 style="font-size: 40px;">–ú–û–õ–û–î–ï–¶! üéâ
–õ–ò–°–ê –¢–ï–ë–Ø –ù–ï –ù–ê–®–õ–ê!</h1>
        <button onclick="location.reload()">–ò–ì–†–ê–¢–¨ –ï–©–Å</button>
    </div>

    <script>
        const kolobok = document.getElementById('kolobok');
        const targetZone = document.getElementById('target-zone');
        const winScreen = document.getElementById('win-screen');

        let isDragging = false;
        let startX, startY, currentX = 0, currentY = 0;

        // --- –ó–í–£–ö–û–í–û–ô –î–í–ò–ñ–û–ö ---
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

        function playSound(type) {
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.connect(gain);
            gain.connect(audioCtx.destination);

            if (type === 'win') {
                // –í–æ—Å—Ö–æ–¥—è—â–∏–π —Ä–∞–¥–æ—Å—Ç–Ω—ã–π –∑–≤—É–∫
                osc.type = 'triangle';
                osc.frequency.setValueAtTime(400, audioCtx.currentTime);
                osc.frequency.exponentialRampToValueAtTime(1000, audioCtx.currentTime + 0.4);
                gain.gain.setValueAtTime(0.2, audioCtx.currentTime);


n.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.4);
                osc.start();
                osc.stop(audioCtx.currentTime + 0.4);
            } else if (type === 'fail') {
                // –ù–∏–∑–∫–∏–π –∑–≤—É–∫ –æ—à–∏–±–∫–∏
                osc.type = 'sine';
                osc.frequency.setValueAtTime(200, audioCtx.currentTime);
                osc.frequency.linearRampToValueAtTime(100, audioCtx.currentTime + 0.3);
                gain.gain.setValueAtTime(0.2, audioCtx.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);
                osc.start();
                osc.stop(audioCtx.currentTime + 0.3);
            }
        }

        // --- –õ–û–ì–ò–ö–ê –ü–ï–†–ï–ú–ï–©–ï–ù–ò–Ø ---
        function startDragging(e) {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            isDragging = true;
            const pos = e.touches ? e.touches[0] : e;
            startX = pos.clientX - currentX;
            startY = pos.clientY - currentY;
            kolobok.style.transition = 'none';
        }

        function drag(e) {
            if (!isDragging) return;
            e.preventDefault();
            const pos = e.touches ? e.touches[0] : e;
            currentX = pos.clientX - startX;
            currentY = pos.clientY - startY;
            kolobok.style.transform = `translate(${currentX}px, ${currentY}px)`;
        }

        function stopDragging() {
            if (!isDragging) return;
            isDragging = false;

            const kRect = kolobok.getBoundingClientRect();
            const tRect = targetZone.getBoundingClientRect();

            // –ü—Ä–æ–≤–µ—Ä–∫–∞: –ø–æ–ø–∞–ª –ª–∏ —Ü–µ–Ω—Ç—Ä –∫–æ–ª–æ–±–∫–∞ –≤ –∑–æ–Ω—É
            const kCenterX = kRect.left + kRect.width / 2;
            const kCenterY = kRect.top + kRect.height / 2;

            if (kCenterX < tRect.right && kCenterY > tRect.top) {
                // –ü–û–ë–ï–î–ê
                playSound('win');
                winScreen.style.display = 'flex';
                kolobok.style.display = 'none';
            } else {
                // –í–û–ó–í–†–ê–¢
                playSound('fail');
                currentX = 0;
                currentY = 0;
                kolobok.style.transition = 'transform 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275)';
                kolobok.style.transform = 'translate(0px, 0px)';
            }
        }

        // –ú—ã—à—å
        kolobok.addEventListener('mousedown', startDragging);
        window.addEventListener('mousemove', drag);
        window.addEventListener('mouseup', stopDragging);

        // –¢–∞—á (–¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤)
        kolobok.addEventListener('touchstart', startDragging, {passive: false});
        window.addEventListener('touchmove', drag, {passive: false});
        window.addEventListener('touchend', stopDragging);

    </script>
</body>
</html> gai
